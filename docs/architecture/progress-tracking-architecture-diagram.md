# Orchestra Progress Tracking System - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CLAUDE CODE CLI                                     â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                       Agent Execution                               â”‚    â”‚
â”‚  â”‚  (Skye, Nova, Leo, Kai, Mina, Iris, Eden, Theo, Alex, etc.)       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                                â”‚
â”‚                             â”‚ Invokes TodoWrite Tool                         â”‚
â”‚                             â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      TodoWrite Tool                                 â”‚    â”‚
â”‚  â”‚  Parameters: { todos: [...] }                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                                â”‚
â”‚                             â”‚ PostToolUse Hook Trigger                       â”‚
â”‚                             â–¼                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚        HOOK SYSTEM                             â”‚
â”‚                             â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              hooks/post_code_write.sh (Entry Point)                â”‚    â”‚
â”‚  â”‚  1. Extract CLAUDE_TOOL_PARAMS environment variable               â”‚    â”‚
â”‚  â”‚  2. Call progress-tracker-update.sh                                â”‚    â”‚
â”‚  â”‚  3. Call progress-tracker-display.sh                               â”‚    â”‚
â”‚  â”‚  4. Call progress-tracker-export.sh                                â”‚    â”‚
â”‚  â”‚  5. Run code quality checks (existing logic)                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                          â”‚                       â”‚            â”‚
â”‚            â”‚ (1) Update               â”‚ (2) Display           â”‚ (3) Export â”‚
â”‚            â–¼                          â–¼                       â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ progress-tracker-    â”‚  â”‚ progress-tracker- â”‚  â”‚ progress-tracker-â”‚   â”‚
â”‚  â”‚ update.sh            â”‚  â”‚ display.sh        â”‚  â”‚ export.sh        â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚                   â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚ â€¢ Parse TodoWrite    â”‚  â”‚ â€¢ Read progress   â”‚  â”‚ â€¢ Read progress  â”‚   â”‚
â”‚  â”‚   parameters         â”‚  â”‚   .json           â”‚  â”‚   .json          â”‚   â”‚
â”‚  â”‚ â€¢ Detect agent       â”‚  â”‚ â€¢ Format enhanced â”‚  â”‚ â€¢ Export to      â”‚   â”‚
â”‚  â”‚ â€¢ Acquire file lock  â”‚  â”‚   display         â”‚  â”‚   status.txt     â”‚   â”‚
â”‚  â”‚ â€¢ Update progress.   â”‚  â”‚ â€¢ Inject to chat  â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚   json atomically    â”‚  â”‚                   â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚ â€¢ Recalculate        â”‚  â”‚                   â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚   metadata           â”‚  â”‚                   â”‚  â”‚                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                        â”‚                        â”‚            â”‚
â”‚            â”‚ Uses                   â”‚ Uses                   â”‚ Uses       â”‚
â”‚            â–¼                        â–¼                        â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              hooks/lib/progress-utils.sh                           â”‚  â”‚
â”‚  â”‚  Shared utility functions:                                         â”‚  â”‚
â”‚  â”‚  â€¢ detect_agent_from_todo()      â€¢ format_progress_bar()          â”‚  â”‚
â”‚  â”‚  â€¢ is_valid_agent()               â€¢ init_progress_file_if_missing()â”‚  â”‚
â”‚  â”‚  â€¢ format_duration()              â€¢ update_metadata()              â”‚  â”‚
â”‚  â”‚  â€¢ add_history_entry()            â€¢ log_event()                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Writes/Reads
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA LAYER                                          â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          .orchestra/cache/progress.json                          â”‚      â”‚
â”‚  â”‚  Enhanced schema v2.0:                                           â”‚      â”‚
â”‚  â”‚  â€¢ todos[] - Task list with agent, timing, progress metadata    â”‚      â”‚
â”‚  â”‚  â€¢ metadata - Session stats, activeAgents, completionRate       â”‚      â”‚
â”‚  â”‚  â€¢ history[] - Audit trail of events                            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          .orchestra/cache/progress-status.txt                    â”‚      â”‚
â”‚  â”‚  Formatted status file for external monitoring                   â”‚      â”‚
â”‚  â”‚  (Same content as display, plain text)                           â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          .orchestra/logs/progress-tracker.log                    â”‚      â”‚
â”‚  â”‚  Execution logs for debugging                                    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          .orchestra/cache/history/session-*.json                 â”‚      â”‚
â”‚  â”‚  Archived session data (on session restart)                      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ Read
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DISPLAY LAYER                                       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                   Chat Display (Inline)                          â”‚      â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚      â”‚
â”‚  â”‚  ğŸ¯ PROGRESS  |  3 agents  |  67% complete                       â”‚      â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚      â”‚
â”‚  â”‚  ğŸ˜ Skye   [â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘] 70%  Auth middleware (3m 42s)          â”‚      â”‚
â”‚  â”‚  ğŸ˜„ Nova   [â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘] 50%  Dashboard UI (5m 12s)             â”‚      â”‚
â”‚  â”‚  ğŸ˜Œ Leo    [â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘] 80%  Integration tests (2m 15s)        â”‚      â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚      â”‚
â”‚  â”‚  Injected into chat after each TodoWrite                         â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              External Monitor (Separate Terminal)                â”‚      â”‚
â”‚  â”‚  User runs:                                                      â”‚      â”‚
â”‚  â”‚    watch -n 1 cat .orchestra/cache/progress-status.txt          â”‚      â”‚
â”‚  â”‚  OR                                                              â”‚      â”‚
â”‚  â”‚    tail -f .orchestra/cache/progress-status.txt                 â”‚      â”‚
â”‚  â”‚                                                                  â”‚      â”‚
â”‚  â”‚  Always visible, real-time updates                              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Sequence

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent   â”‚ (Skye executing task)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1. Invokes TodoWrite({todos: [...]})
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TodoWrite    â”‚
â”‚ Tool         â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 2. PostToolUse hook triggered
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ post_code_write.sh   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 3. Extract CLAUDE_TOOL_PARAMS
     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                â”‚
     â”‚ 4a. Update                     â”‚ 4b. Display
     â–¼                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ update.sh        â”‚         â”‚ display.sh        â”‚
â”‚ â€¢ Detect agent   â”‚         â”‚ â€¢ Format output   â”‚
â”‚ â€¢ Lock file      â”‚         â”‚ â€¢ Show in chat    â”‚
â”‚ â€¢ Update JSON    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ Recalc metadataâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 5. Write atomically
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ progress.json    â”‚
â”‚ (flock locked)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Concurrent Agent Execution

```
Time â†’

Agent 1 (Skye):   [Task 1 start]â”€â”€â”€â”€â”€â”€â”€â”€â”€[Task 1 complete]
                         â”‚                      â”‚
                         â–¼                      â–¼
                    TodoWrite                TodoWrite
                         â”‚                      â”‚
                         â–¼                      â–¼
                    update.sh              update.sh
                         â”‚                      â”‚
                         â–¼                      â–¼
                    LOCK â•â•â•â•â•â•â•â•â•â•â•â•â•> UNLOCK
                         â”‚
                         â”‚
Agent 2 (Nova):          â”‚  [Task 2 start]â”€â”€â”€â”€â”€â”€â”€â”€[Task 2 complete]
                         â”‚         â”‚                      â”‚
                         â”‚         â–¼                      â–¼
                         â”‚    TodoWrite                TodoWrite
                         â”‚         â”‚                      â”‚
                         â”‚         â–¼                      â–¼
                         â”‚    update.sh              update.sh
                         â”‚         â”‚                      â”‚
                         â”‚         â–¼                      â–¼
                         â”‚    WAIT (locked)         LOCK â•â•â•â•> UNLOCK
                         â”‚         â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ (acquires after Agent 1 releases)
                                   â”‚
Agent 3 (Leo):                     â”‚      [Task 3 start]â”€â”€â”€â”€â”€â”€[...]
                                   â”‚             â”‚
                                   â”‚             â–¼
                                   â”‚        TodoWrite
                                   â”‚             â”‚
                                   â”‚             â–¼
                                   â”‚        update.sh
                                   â”‚             â”‚
                                   â”‚             â–¼
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€> WAIT (locked)

Legend:
  LOCK     - File lock acquired (exclusive access)
  WAIT     - Waiting for lock (max 5 seconds)
  UNLOCK   - File lock released
```

---

## Agent Detection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TodoWrite Parameters                   â”‚
â”‚  {                                      â”‚
â”‚    "id": "123",                         â”‚
â”‚    "content": "Implement API endpoint", â”‚
â”‚    "activeForm": "Implementing API...", â”‚
â”‚    "status": "in_progress"              â”‚
â”‚  }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  detect_agent_from_todo()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€ Strategy 1: Parse activeForm
               â”‚  Pattern: "^(Skye|Nova|Leo|...)"
               â”‚  Example: "Skye is implementing..." â†’ "Skye"
               â”‚  âœ… Match? Return agent
               â”‚
               â”œâ”€ Strategy 2: Parse content (brackets)
               â”‚  Pattern: "\[([A-Z][a-z]+)\]"
               â”‚  Example: "[Nova] Build dashboard" â†’ "Nova"
               â”‚  âœ… Match? Return agent
               â”‚
               â”œâ”€ Strategy 3: Parse content (parentheses)
               â”‚  Pattern: "\(([A-Z][a-z]+)\)"
               â”‚  Example: "Design API (Kai)" â†’ "Kai"
               â”‚  âœ… Match? Return agent
               â”‚
               â”œâ”€ Strategy 4: Use last known agent
               â”‚  Read metadata.currentAgent from progress.json
               â”‚  âœ… Valid? Return agent
               â”‚
               â””â”€ Fallback: Return "Unknown"
```

---

## File Locking Mechanism (Concurrency Control)

```
Process 1:                Process 2:                Process 3:

  update.sh                 update.sh                 update.sh
      â”‚                         â”‚                         â”‚
      â”‚ open lock file          â”‚                         â”‚
      â–¼                         â”‚                         â”‚
  /tmp/orchestra-            â”‚                         â”‚
  progress.lock              â”‚                         â”‚
      â”‚                         â”‚                         â”‚
      â”‚ flock -w 5             â”‚                         â”‚
      â–¼                         â”‚                         â”‚
  ğŸ”’ LOCKED                    â”‚                         â”‚
  (exclusive)                 â”‚                         â”‚
      â”‚                         â”‚                         â”‚
      â”‚ read progress.json      â”‚ open lock file          â”‚
      â”‚                         â–¼                         â”‚
      â”‚                     /tmp/orchestra-              â”‚
      â”‚                     progress.lock                â”‚
      â”‚                         â”‚                         â”‚
      â”‚ modify data            â”‚ flock -w 5              â”‚
      â”‚                         â–¼                         â”‚
      â”‚                     â³ WAITING                    â”‚
      â”‚                     (blocked)                    â”‚
      â”‚ write progress.json     â”‚                         â”‚
      â”‚                         â”‚                         â”‚
      â–¼                         â”‚                         â”‚
  ğŸ”“ UNLOCKED                  â”‚                         â”‚
  (release lock)              â”‚                         â”‚
                               â”‚                         â”‚
                               â–¼                         â”‚ open lock file
                           ğŸ”’ LOCKED                    â–¼
                           (acquired)              /tmp/orchestra-
                               â”‚                     progress.lock
                               â”‚ read progress.json     â”‚
                               â”‚                         â”‚ flock -w 5
                               â”‚ modify data            â–¼
                               â”‚                     â³ WAITING
                               â”‚ write progress.json
                               â”‚
                               â–¼
                           ğŸ”“ UNLOCKED
                                                         â–¼
                                                     ğŸ”’ LOCKED
                                                         â”‚
                                                         ...
```

**Lock Timeout Behavior**:
- If lock not acquired within 5 seconds:
  - Log warning to progress-tracker.log
  - Skip update (don't block TodoWrite)
  - Return gracefully

---

## Display Format Options

### Compact Mode (Default)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ PROGRESS  |  3 agents  |  67% complete
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ˜ Skye   [â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘] 70%  Auth middleware (3m 42s)
ğŸ˜„ Nova   [â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘] 50%  Dashboard UI (5m 12s)
ğŸ˜Œ Leo    [â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘] 80%  Integration tests (2m 15s)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… 8  âš¡ 3  â³ 4
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**Use Cases**: Default display after each TodoWrite

---

### Verbose Mode (--verbose flag)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ ORCHESTRA PROGRESS TRACKER
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Session: 1h 23m 45s  |  Started: 2025-11-03 14:30:00
Overall: [â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘] 67% (10/15 tasks)

ğŸ‘¥ Active Agents (3)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ˜ Skye (Backend Implementation)
   Task: Implementing authentication middleware
   Progress: [â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘] 70%  (Step 7/10)
   Duration: 3m 42s  |  Est. remaining: 1m 35s
   Tags: backend, security, auth

...

ğŸ“‹ Task Summary
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Completed (8 tasks)
   - Setup project structure (Alex, 12m)
   - Configure database schema (Skye, 8m)
   ...

âš¡ In Progress (3 tasks)
   - Implementing authentication middleware (Skye)
   ...

â³ Pending (4 tasks)
   - Code review and refactoring
   ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Last updated: 2025-11-03 15:53:45
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**Use Cases**: Manual progress review, debugging, status reports

---

## ANSI Color Palette

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Element                â”‚ ANSI Code   â”‚ Example              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Completed tasks        â”‚ \e[32m      â”‚ âœ… Task done         â”‚
â”‚ In-progress tasks      â”‚ \e[33m      â”‚ âš¡ Working on...     â”‚
â”‚ Pending tasks          â”‚ \e[90m      â”‚ â³ Not started       â”‚
â”‚ Headers                â”‚ \e[1m       â”‚ ğŸ¯ PROGRESS          â”‚
â”‚ Agent names            â”‚ \e[1;36m    â”‚ Skye (bold cyan)     â”‚
â”‚ Progress bar (filled)  â”‚ \e[42m      â”‚ â–“ (green bg)         â”‚
â”‚ Progress bar (empty)   â”‚ \e[100m     â”‚ â–‘ (dark gray bg)     â”‚
â”‚ Reset                  â”‚ \e[0m       â”‚ (end colored text)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Session Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Session Start                              â”‚
â”‚  1. hooks/session-start.sh triggered                           â”‚
â”‚  2. Initialize progress.json if missing                        â”‚
â”‚  3. Migrate schema if v1.0 detected                            â”‚
â”‚  4. Set metadata.sessionStartTime                              â”‚
â”‚  5. Archive previous session to .orchestra/cache/history/      â”‚
â”‚  6. Display welcome message + monitoring instructions          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Active Session                               â”‚
â”‚  â€¢ Agent invokes TodoWrite                                     â”‚
â”‚  â€¢ PostToolUse hook triggered                                  â”‚
â”‚  â€¢ progress.json updated                                       â”‚
â”‚  â€¢ Display injected into chat                                  â”‚
â”‚  â€¢ Repeat...                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Session End                                â”‚
â”‚  1. User closes Claude Code or starts new session              â”‚
â”‚  2. Next session-start.sh detects previous progress.json       â”‚
â”‚  3. Archive to .orchestra/cache/history/session-TIMESTAMP.json â”‚
â”‚  4. Fresh progress.json created for new session                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  update.sh execution                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€ Check: jq available?
               â”‚  âŒ No â†’ Log error, exit gracefully
               â”‚  âœ… Yes â†’ Continue
               â”‚
               â”œâ”€ Check: progress.json exists?
               â”‚  âŒ No â†’ Initialize with empty schema
               â”‚  âœ… Yes â†’ Continue
               â”‚
               â”œâ”€ Check: progress.json valid JSON?
               â”‚  âŒ No â†’ Backup corrupt file, reinitialize
               â”‚  âœ… Yes â†’ Continue
               â”‚
               â”œâ”€ Acquire file lock (flock -w 5)
               â”‚  âŒ Timeout â†’ Log warning, skip update
               â”‚  âœ… Success â†’ Continue
               â”‚
               â”œâ”€ Parse TodoWrite parameters
               â”‚  âŒ Invalid â†’ Log error, skip update
               â”‚  âœ… Valid â†’ Continue
               â”‚
               â”œâ”€ Detect agent
               â”‚  âŒ Unknown â†’ Assign "Unknown", continue
               â”‚  âœ… Detected â†’ Continue
               â”‚
               â”œâ”€ Update JSON (jq operation)
               â”‚  âŒ Error â†’ Log error, restore backup
               â”‚  âœ… Success â†’ Continue
               â”‚
               â””â”€ Release lock, exit 0
```

**Key Principles**:
- Never block TodoWrite execution
- Degrade gracefully on errors
- Log all errors for debugging
- Always release file lock (even on error)

---

## Performance Optimization

### Current Bottlenecks
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Operation               â”‚ Current  â”‚ Target      â”‚ Solution â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ jq parsing              â”‚ ~30ms    â”‚ ~10ms       â”‚ Cache    â”‚
â”‚ File I/O (read+write)   â”‚ ~50ms    â”‚ ~10ms       â”‚ tmpfs    â”‚
â”‚ flock acquisition       â”‚ ~5ms     â”‚ ~5ms        â”‚ OK       â”‚
â”‚ Agent detection         â”‚ ~2ms     â”‚ ~2ms        â”‚ OK       â”‚
â”‚ Display rendering       â”‚ ~10ms    â”‚ ~10ms       â”‚ OK       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total hook execution    â”‚ ~97ms    â”‚ <50ms       â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### tmpfs Optimization (Optional)
```bash
# Mount tmpfs for cache directory (Linux/macOS)
mkdir -p /tmp/orchestra-cache
ln -sf /tmp/orchestra-cache .orchestra/cache

# Result: 80% reduction in I/O latency
```

---

**Document Version**: 1.0
**Last Updated**: 2025-11-03
**Related Documents**:
- ADR-001: Enhanced Progress Tracking System (detailed architecture)
- PROGRESS-TRACKING-IMPLEMENTATION-GUIDE.md (implementation specs)
