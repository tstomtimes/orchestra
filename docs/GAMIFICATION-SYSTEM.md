# 🎮 Orchestra Gamification System

エージェントを使えば使うほど楽しくなる！レベルアップ、バッジ獲得、リーダーボードで、開発がゲームのように楽しくなります。

## 🎯 概要

Orchestra Gamificationシステムは、各エージェントの活動を追跡し、経験値、レベル、バッジで報酬を与えます。エージェントを使うほど、そのエージェントが成長し、新しい称号やバッジを獲得します。

### ✨ 主な機能

- **レベルシステム**: エージェントは経験値（XP）を獲得してレベルアップ
- **バッジシステム**: 特定の実績を達成するとバッジ獲得
- **リーダーボード**: エージェント間の競争を視覚化
- **統計トラッキング**: タスク完了数、平均時間、連続記録などを追跡
- **リアルタイム通知**: XP獲得、レベルアップ、バッジ獲得を即座に表示

## 📊 レベルシステム

### レベルと称号

エージェントは10レベルまで成長できます：

| レベル | 必要XP | 称号（英語） | 称号（日本語） |
|--------|--------|--------------|----------------|
| 1 | 0 | Novice | 見習い |
| 2 | 50 | Apprentice | 初級 |
| 3 | 100 | Competent | 中級 |
| 4 | 200 | Proficient | 上級 |
| 5 | 350 | Expert | 熟練 |
| 6 | 550 | Master | 達人 |
| 7 | 800 | Grandmaster | 名人 |
| 8 | 1100 | Legend | 伝説 |
| 9 | 1500 | Mythic | 神話 |
| 10 | 2000 | Transcendent | 超越者 |

### 経験値（XP）の獲得方法

| アクション | 獲得XP | 条件 |
|-----------|--------|------|
| タスク完了 | 10 XP | 基本 |
| 高速完了 | 15 XP | 平均時間の50%以下 |
| 完璧な完了 | 20 XP | 修正なし |
| 1日目の初タスク | +5 XP | ボーナス |
| 連続記録 | +10 XP/日 | 連続活動 |
| 並行実行 | 15 XP | 効率的な並行タスク |
| 他エージェント支援 | 8 XP | チームワーク |
| マイルストーン達成 | 50 XP | プロジェクトマイルストーン |
| バッジ獲得 | 25 XP | 新しいバッジ |

### レベルアップ表示

エージェントがレベルアップすると、美しいアニメーションが表示されます：

```
╔═══════════════════════════════════════════════════════════╗
║                                                           ║
║  🎉 LEVEL UP! 🎉                                          ║
║                                                           ║
║  😐 Skye がレベルアップしました!                         ║
║  Level 5 - 熟練                                           ║
║                                                           ║
╚═══════════════════════════════════════════════════════════╝
```

## 🏆 バッジシステム

### バッジの種類とレア度

- **🔵 Common**: 誰でも獲得できる基本バッジ
- **💙 Rare**: 少し努力が必要なバッジ
- **💜 Epic**: かなり難しいバッジ
- **💛 Legendary**: 最高難度のバッジ

### 利用可能なバッジ

#### 基本バッジ

**🎯 First Steps（第一歩）** - Common
- 最初のタスクを完了
- 要件: 1タスク

**💯 Century Club（百人力）** - Epic
- 100タスクを完了
- 要件: 100タスク

**⭐ All-Rounder（オールラウンダー）** - Legendary
- 5つ以上のバッジを獲得
- 要件: 5バッジ

#### パフォーマンスバッジ

**⚡ Speed Demon（電光石火）** - Rare
- 平均時間の50%以下で10タスクを完了
- 要件: 10高速タスク

**💎 Perfectionist（完璧主義者）** - Epic
- 修正なしで20タスクを完了
- 要件: 20完璧タスク

**🔥 Streak Warrior（連続記録の戦士）** - Legendary
- 30日連続でアクティブ
- 要件: 30日連続

#### チームワークバッジ

**🤝 Team Player（チームプレイヤー）** - Rare
- 他のエージェントを25回サポート
- 要件: 25回支援

**🏆 Milestone Master（マイルストーンマスター）** - Epic
- 10のプロジェクトマイルストーンに貢献
- 要件: 10マイルストーン

#### 専門バッジ（エージェント固有）

**🐛 Bug Hunter（バグハンター）** - Rare
- 50のバグを発見・修正（Finn専用）
- 要件: 50バグ修正

**🛡️ Security Sentinel（セキュリティ番人）** - Epic
- 100のセキュリティチェックをクリア（Iris専用）
- 要件: 100セキュリティチェック

**📚 Documentation Master（ドキュメント達人）** - Rare
- 30の包括的なドキュメントを作成（Eden専用）
- 要件: 30ドキュメント

**🏗️ Master Architect（マスターアーキテクト）** - Epic
- 15のシステムアーキテクチャを設計（Kai専用）
- 要件: 15アーキテクチャ

**🚀 Deploy Champion（デプロイチャンピオン）** - Rare
- 50回のリリースに成功（Blake専用）
- 要件: 50デプロイ

### バッジ獲得表示

バッジを獲得すると、美しい通知が表示されます：

```
┌───────────────────────────────────────────────────────────┐
│  ✨ NEW BADGE EARNED! ✨                                   │
│                                                           │
│  😤 Finn earned 🐛 Bug Hunter                            │
│  50のバグを発見・修正                                      │
│                                                           │
└───────────────────────────────────────────────────────────┘
```

## 📈 統計トラッキング

各エージェントについて以下の統計が追跡されます：

### 基本統計
- **完了タスク数**: 完了したタスクの総数
- **失敗タスク数**: 失敗したタスクの総数
- **合計タスク時間**: すべてのタスクにかかった時間の合計
- **平均タスク時間**: タスクあたりの平均時間
- **最速タスク**: 最も早く完了したタスクの時間
- **最長連続記録**: 連続してアクティブだった最長日数
- **現在の連続記録**: 現在の連続アクティブ日数
- **最終アクティブ**: 最後に活動した日時
- **初回参加**: エージェントが初めて使われた日時
- **総経験値**: 獲得した経験値の合計

## 🎨 表示例

### エージェント統計カード

```
┌───────────────────────────────────────────────────────────┐
│  😐 Skye - Lv.5 熟練                                      │
├───────────────────────────────────────────────────────────┤
│  [▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░] 320/550 XP              │
│                                                           │
│  統計:                                                    │
│    ✅ Tasks: 42                                          │
│    ⚡ Avg Time: 1h 23m                                   │
│    🏆 Badges: 5                                          │
│    🔥 Streak: 12 日                                      │
│                                                           │
│  バッジ:                                                  │
│    🎯 第一歩                                             │
│    ⚡ 電光石火                                           │
│    💎 完璧主義者                                         │
│    🤝 チームプレイヤー                                   │
│    💯 百人力                                             │
└───────────────────────────────────────────────────────────┘
```

### XP獲得通知

```
😐 Skye +10 XP (タスク完了)
```

### リーダーボード

```
🏆 リーダーボード
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  順位   エージェント     レベル    XP        タスク    バッジ
  ───────────────────────────────────────────────────────────────
  #1     😐 Skye        Lv.5      850       42        5
  #2     😊 Mina        Lv.4      620       38        4
  #3     🤨 Iris        Lv.4      580       35        6
  #4     😤 Finn        Lv.3      450       30        3
  #5     🤓 Eden        Lv.3      420       28        4

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 最近の実績

```
⭐ 最近の実績
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  😐 🐛 Finnが「バグハンター」バッジを獲得しました！
     2時間前

  😊 💎 Minaが「完璧主義者」バッジを獲得しました！
     5時間前

  😐 🎉 Skyeがレベル5に到達しました！
     1日前

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

## 🔧 使い方

### 自動統合

ゲーミフィケーションシステムは**完全自動**です！TodoWriteを使用すると、自動的に：

1. タスクが`[Agent名]`フォーマットで記述されているか検出
2. タスクが`in_progress`になると開始時刻を記録
3. タスクが`completed`になるとXPを付与
4. レベルアップやバッジ獲得を自動チェック
5. 美しい通知を即座に表示

### TODOフォーマット

ゲーミフィケーションを有効にするには、TODOに以下のフォーマットを使用：

```
[エージェント名] タスクの具体的な内容
```

例：
```javascript
TodoWrite([
  { content: "[Skye] バックエンドAPIを実装する", status: "pending" },
  { content: "[Mina] フロントエンドUIを実装する", status: "pending" },
  { content: "[Finn] テストを作成する", status: "pending" },
]);
```

### 統計の確認

エージェントの統計を確認するには、gamification.jsonファイルを参照：

```bash
cat .orchestra/cache/gamification.json
```

## 🎯 ベストプラクティス

### エージェント選択

- タスクに最適なエージェントを選択すると、そのエージェントが成長
- 同じエージェントを連続して使うと連続記録ボーナス
- 複数エージェントを並行実行すると全員がXPを獲得

### バッジ獲得のヒント

1. **Speed Demon**: 小さなタスクを素早く完了して獲得
2. **Perfectionist**: 要件を明確にしてから実装開始
3. **Streak Warrior**: 毎日少しずつでもエージェントを使用
4. **Team Player**: Alexを使って複数エージェントに委譲
5. **専門バッジ**: 各エージェントの得意分野のタスクを割り当て

### レベルアップを加速

- **毎日の初タスク**: 毎日最初のタスクでボーナスXP
- **連続記録維持**: 連続活動で日ごとにボーナスXP
- **並行実行**: 複数エージェントを並行して効率化
- **マイルストーン達成**: 大きな節目で大量XP獲得

## 📁 ファイル構造

```
src/
├── types/
│   └── gamification.types.ts    # 型定義
├── utils/
│   ├── gamification-manager.ts   # ゲーミフィケーション管理
│   └── gamification-renderer.ts  # 表示レンダラー
└── hooks/
    └── on-todo-write.ts          # TodoWriteフック（統合済み）

.orchestra/
└── cache/
    └── gamification.json         # 状態保存ファイル
```

## 🚀 今後の拡張

- [ ] エージェント間のチャレンジ機能
- [ ] 週間/月間リーダーボード
- [ ] カスタムバッジ作成機能
- [ ] エージェントスキルツリー
- [ ] チーム目標とチーム報酬
- [ ] 実績のエクスポート/シェア機能
- [ ] バッジプログレスの可視化

---

これで開発がゲームのように楽しくなります！エージェントを育てて、バッジを集めて、リーダーボードのトップを目指しましょう！🎮✨
